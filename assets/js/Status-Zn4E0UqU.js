import{_ as t}from"./index-DqdfB1wf.js";import{c as e,d as a,F as s,v as n,k as i,j as r,l,p as o,o as u}from"./vendor-Bqe9aLnF.js";const c={async getSystemStatus(){try{const t={services:[],announcements:[{id:1,type:"info",message:"VelocityDesk wird voraussichtlich am 01.12.2025 um 18:00 Uhr (EU West / CET) veröffentlicht. Wir freuen uns darauf, Ihnen unsere innovativen IT-Infrastruktur-Lösungen präsentieren zu können.",startDate:(new Date).toISOString(),endDate:"2025-12-01T18:00:00+01:00"}],overall:{status:"upcoming",lastUpdated:(new Date).toISOString()}};return await new Promise((t=>setTimeout(t,1e3))),t}catch(t){throw t}}},d={class:"status-page"},m={class:"status-container"},v={key:0,class:"announcements"},g={class:"announcement-icon"},h={class:"announcement-content"},S={class:"announcement-message"},p={key:0,class:"announcement-time"},f={class:"status-header"},y={class:"last-updated"},D={class:"services-grid"},b={class:"service-status"},k={class:"service-metrics"},w={class:"metric"},I={class:"value"},U={class:"metric"},T={class:"value"},E={key:1,class:"error-message"},L={class:"refresh-button"},x=["disabled"];const A=t({name:"Status",data:()=>({services:[],overallStatus:"operational",lastUpdated:null,loading:!1,error:null,announcements:[]}),computed:{formattedLastUpdate(){return this.lastUpdated?new Date(this.lastUpdated).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):""},overallStatusText(){return{operational:"Alle Systeme funktionieren",degraded:"Einige Systeme eingeschränkt",outage:"Systemstörung",upcoming:"System wird bald verfügbar sein"}[this.overallStatus]||this.overallStatus},overallStatusClass(){return`status-${this.overallStatus}`}},methods:{async fetchStatus(){this.loading=!0,this.error=null;try{const t=await c.getSystemStatus();this.services=t.services,this.announcements=t.announcements,this.overallStatus=t.overall.status,this.lastUpdated=t.overall.lastUpdated}catch(t){this.error="Fehler beim Laden der Statusdaten"}finally{this.loading=!1}},getStatusClass:t=>({"status-operational":"operational"===t,"status-degraded":"degraded"===t,"status-outage":"outage"===t}),getStatusText:t=>({operational:"Betriebsbereit",degraded:"Eingeschränkt",outage:"Störung"}[t]||t),getAnnouncementIcon:t=>({maintenance:"bi-wrench",alert:"bi-exclamation-triangle",info:"bi-info-circle"}[t]||"bi-info-circle"),formatAnnouncementTime(t){const e={day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"};return t.startDate&&t.endDate?`Von ${new Date(t.startDate).toLocaleString("de-DE",e)} bis ${new Date(t.endDate).toLocaleString("de-DE",e)}`:t.startDate?`Ab ${new Date(t.startDate).toLocaleString("de-DE",e)}`:t.endDate?`Bis ${new Date(t.endDate).toLocaleString("de-DE",e)}`:""}},mounted(){this.fetchStatus(),this.intervalId=setInterval(this.fetchStatus,6e4)},beforeUnmount(){this.intervalId&&clearInterval(this.intervalId)}},[["render",function(t,c,A,C,$,j){return u(),e("div",d,[a("div",m,[$.announcements.length>0?(u(),e("div",v,[(u(!0),e(s,null,n($.announcements,(t=>(u(),e("div",{key:t.id,class:r(["announcement",t.type])},[a("div",g,[a("i",{class:r(["bi",j.getAnnouncementIcon(t.type)])},null,2)]),a("div",h,[a("div",S,o(t.message),1),t.startDate||t.endDate?(u(),e("div",p,o(j.formatAnnouncementTime(t)),1)):i("",!0)])],2)))),128))])):i("",!0),a("div",f,[c[2]||(c[2]=a("h1",null,"System Status",-1)),a("div",{class:r(["overall-status",j.overallStatusClass])},[c[1]||(c[1]=a("span",{class:"status-indicator"},null,-1)),l(" "+o(j.overallStatusText),1)],2),a("div",y," Zuletzt aktualisiert: "+o(j.formattedLastUpdate),1)]),a("div",D,[(u(!0),e(s,null,n($.services,(t=>(u(),e("div",{key:t.id,class:r(["service-card",j.getStatusClass(t.status)])},[a("h3",null,o(t.service),1),a("div",b,[c[3]||(c[3]=a("span",{class:"status-indicator"},null,-1)),l(" "+o(j.getStatusText(t.status)),1)]),a("div",k,[a("div",w,[c[4]||(c[4]=a("span",{class:"label"},"Uptime",-1)),a("span",I,o(t.uptime.toFixed(2))+"%",1)]),a("div",U,[c[5]||(c[5]=a("span",{class:"label"},"Reaktionszeit",-1)),a("span",T,o(t.responseTime)+"ms",1)])])],2)))),128))]),$.error?(u(),e("div",E,o($.error),1)):i("",!0),a("div",L,[a("button",{onClick:c[0]||(c[0]=(...t)=>j.fetchStatus&&j.fetchStatus(...t)),disabled:$.loading},c[6]||(c[6]=[a("i",{class:"bi bi-arrow-clockwise"},null,-1),l(" Aktualisieren ")]),8,x)])])])}],["__scopeId","data-v-5f34996a"]]);export{A as default};