import{_ as h}from"./index-BQbj-E0A.js";import{c as i,d as e,F as m,v as g,k as u,j as d,l as c,p as n,o}from"./vendor-Dl8iSx9S.js";const v={async getSystemStatus(){try{const t={services:[],announcements:[{id:1,type:"info",message:"VelocityDesk wird voraussichtlich am 01.12.2025 um 18:00 Uhr (EU West / CET) veröffentlicht. Wir freuen uns darauf, Ihnen unsere innovativen IT-Infrastruktur-Lösungen präsentieren zu können.",startDate:new Date().toISOString(),endDate:"2025-12-01T18:00:00+01:00"}],overall:{status:"upcoming",lastUpdated:new Date().toISOString()}};return await new Promise(s=>setTimeout(s,1e3)),t}catch(t){throw console.error("Error fetching system status:",t),t}}},S={name:"Status",data(){return{services:[],overallStatus:"operational",lastUpdated:null,loading:!1,error:null,announcements:[]}},computed:{formattedLastUpdate(){return this.lastUpdated?new Date(this.lastUpdated).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):""},overallStatusText(){return{operational:"Alle Systeme funktionieren",degraded:"Einige Systeme eingeschränkt",outage:"Systemstörung",upcoming:"System wird bald verfügbar sein"}[this.overallStatus]||this.overallStatus},overallStatusClass(){return`status-${this.overallStatus}`}},methods:{async fetchStatus(){this.loading=!0,this.error=null;try{const t=await v.getSystemStatus();this.services=t.services,this.announcements=t.announcements,this.overallStatus=t.overall.status,this.lastUpdated=t.overall.lastUpdated}catch(t){this.error="Fehler beim Laden der Statusdaten",console.error(t)}finally{this.loading=!1}},getStatusClass(t){return{"status-operational":t==="operational","status-degraded":t==="degraded","status-outage":t==="outage"}},getStatusText(t){return{operational:"Betriebsbereit",degraded:"Eingeschränkt",outage:"Störung"}[t]||t},getAnnouncementIcon(t){return{maintenance:"bi-wrench",alert:"bi-exclamation-triangle",info:"bi-info-circle"}[t]||"bi-info-circle"},formatAnnouncementTime(t){const s={day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"};return t.startDate&&t.endDate?`Von ${new Date(t.startDate).toLocaleString("de-DE",s)} bis ${new Date(t.endDate).toLocaleString("de-DE",s)}`:t.startDate?`Ab ${new Date(t.startDate).toLocaleString("de-DE",s)}`:t.endDate?`Bis ${new Date(t.endDate).toLocaleString("de-DE",s)}`:""}},mounted(){this.fetchStatus(),this.intervalId=setInterval(this.fetchStatus,6e4)},beforeUnmount(){this.intervalId&&clearInterval(this.intervalId)}},f={class:"status-page"},p={class:"status-container"},_={key:0,class:"announcements"},y={class:"announcement-icon"},D={class:"announcement-content"},b={class:"announcement-message"},k={key:0,class:"announcement-time"},w={class:"status-header"},x={class:"last-updated"},I={class:"services-grid"},T={class:"service-status"},U={class:"service-metrics"},E={class:"metric"},L={class:"value"},C={class:"metric"},A={class:"value"},B={key:1,class:"error-message"},V={class:"refresh-button"},z=["disabled"];function F(t,s,N,O,l,r){return o(),i("div",f,[e("div",p,[l.announcements.length>0?(o(),i("div",_,[(o(!0),i(m,null,g(l.announcements,a=>(o(),i("div",{key:a.id,class:d(["announcement",a.type])},[e("div",y,[e("i",{class:d(["bi",r.getAnnouncementIcon(a.type)])},null,2)]),e("div",D,[e("div",b,n(a.message),1),a.startDate||a.endDate?(o(),i("div",k,n(r.formatAnnouncementTime(a)),1)):u("",!0)])],2))),128))])):u("",!0),e("div",w,[s[2]||(s[2]=e("h1",null,"System Status",-1)),e("div",{class:d(["overall-status",r.overallStatusClass])},[s[1]||(s[1]=e("span",{class:"status-indicator"},null,-1)),c(" "+n(r.overallStatusText),1)],2),e("div",x," Zuletzt aktualisiert: "+n(r.formattedLastUpdate),1)]),e("div",I,[(o(!0),i(m,null,g(l.services,a=>(o(),i("div",{key:a.id,class:d(["service-card",r.getStatusClass(a.status)])},[e("h3",null,n(a.service),1),e("div",T,[s[3]||(s[3]=e("span",{class:"status-indicator"},null,-1)),c(" "+n(r.getStatusText(a.status)),1)]),e("div",U,[e("div",E,[s[4]||(s[4]=e("span",{class:"label"},"Uptime",-1)),e("span",L,n(a.uptime.toFixed(2))+"%",1)]),e("div",C,[s[5]||(s[5]=e("span",{class:"label"},"Reaktionszeit",-1)),e("span",A,n(a.responseTime)+"ms",1)])])],2))),128))]),l.error?(o(),i("div",B,n(l.error),1)):u("",!0),e("div",V,[e("button",{onClick:s[0]||(s[0]=(...a)=>r.fetchStatus&&r.fetchStatus(...a)),disabled:l.loading},s[6]||(s[6]=[e("i",{class:"bi bi-arrow-clockwise"},null,-1),c(" Aktualisieren ")]),8,z)])])])}const P=h(S,[["render",F],["__scopeId","data-v-5f34996a"]]);export{P as default};
